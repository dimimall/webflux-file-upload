<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <title>Second Page</title>
</head>
<body>
<div class="container">

    <div class="row">
        <div id="title">
            <h1>Spring WebFlux + Thymeleaf</h1>
        </div>
        <table id="allproducts" class="table table-striped">
            <thead>
            <tr>
                <th width="70%">Product Name</th>
                <th>Product Price</th>
            </tr>
            </thead>
            <tbody>
            <tr class="result" data-th-each="product : ${products}">
                <td>[[${product.itemName}]]</td>
                <td>[[${product.productPrice}]]</td>
            </tr>
            </tbody>
        </table>
    </div>

</div>

<!--<script>-->
<!--$( document ).ready(function() {-->
<!--	$.ajax({-->
<!--			type : "GET",-->
<!--			url : window.location + "",-->
<!--			success: function(result){-->
<!--			    $('#getResultDiv ul').empty();-->
<!--					var productList = "";-->
<!--					$.each(result, function(i, product){-->
<!--						var product = "- product with Id = " + i + ", item name = " + product.itemName + ", product price = " + product.productPrice + "<br>";-->
<!--						$('#getResultDiv .list-group').append(product)-->
<!--			        });-->
<!--					console.log("Success: ", result);-->
<!--			}-->
<!--			,-->
<!--			error : function(e) {-->
<!--				$("#getResultDiv").html("<strong>Error</strong>");-->
<!--				console.log("ERROR: ", e);-->
<!--			}-->
<!--		});-->
<!--})-->
<!--</script>-->
</body>
</html>